{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 29339ffb1f3bbfd02e69","webpack:///./src/javascript/modals.js"],"names":["TrowelModals","elements","forEach","element","index","element_obj","TrowelModal","dialog","children","rootNodes","hideTriggers","slice","call","querySelectorAll","showTriggers","document","id","events","listener","dispatchEvent","mounted","getAttribute","show","map","node","setAttribute","shown","hide","hidden","toggle","isVisible","toggled","event","currentTarget","target","Event","addEventListener","backdropClose","bind","hideTrigger","showTrigger"],"mappings":"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","file":"modals.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"TrowelModals\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TrowelModals\"] = factory();\n\telse\n\t\troot[\"TrowelModals\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 29339ffb1f3bbfd02e69","export default class TrowelModals {\n  constructor(elements) {\n    elements.forEach(function(element, index) {\n      let element_obj = new TrowelModal(element);\n    })\n  }\n}\n\nclass TrowelModal {\n  constructor(element) {\n    this.element = element;\n    this.dialog = this.element.children[0];\n    this.rootNodes = [this.element, this.dialog];\n\n    this.hideTriggers = [].slice.call(this.element.querySelectorAll('[data-modal=\"hide\"]'));\n    this.showTriggers = [].slice.call(document.querySelectorAll(`[data-modal=\"open\"][data-target=\"#${this.element.id}\"]`));\n\n    this.events = this.events();\n    this.listener();\n    this.element.dispatchEvent(this.events.mounted);\n    return;\n  }\n\n  isVisible() {\n    return this.element.getAttribute('data-modal') === 'visible';\n  }\n\n  show() {\n    this.element.dispatchEvent(this.events.show);\n    this.rootNodes.map(node => node.setAttribute('data-modal', 'visible'));\n    this.element.dispatchEvent(this.events.shown);\n    return;\n  }\n\n  hide() {\n    this.element.dispatchEvent(this.events.hide);\n    this.rootNodes.map(node => node.setAttribute('data-modal', 'invisible'));\n    this.element.dispatchEvent(this.events.hidden);\n    return;\n  }\n\n  toggle() {\n    this.element.dispatchEvent(this.events.toggle);\n    this.isVisible() ? this.hide() : this.show();\n    this.element.dispatchEvent(this.events.toggled);\n    return;\n  }\n\n  backdropClose(event) {\n    // make sure the click event is on the modal and not dom children element\n    if (event.currentTarget === event.target) this.hide();\n\n    return;\n  }\n\n  events() {\n    const show = new Event('trowel.modal.show');\n    const shown = new Event('trowel.modal.shown');\n    const hide = new Event('trowel.modal.hide');\n    const hidden = new Event('trowel.modal.hidden');\n    const toggle = new Event('trowel.modal.toggle');\n    const toggled = new Event('trowel.modal.toggled');\n    const mounted = new Event('trowel.modal.mounted');\n\n    return { show, shown, hide, hidden, toggle, toggled, mounted };\n  }\n\n  listener() {\n    this.element.addEventListener('click', this.backdropClose.bind(this));\n    this.hideTriggers.map(hideTrigger => hideTrigger.addEventListener('click', this.backdropClose.bind(this)))\n    this.showTriggers.map(showTrigger => showTrigger.addEventListener('click', this.show.bind(this)))\n\n    return;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascript/modals.js"],"sourceRoot":""}